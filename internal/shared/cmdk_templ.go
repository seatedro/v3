// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.747
package shared

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Cmdk() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<div id=\"cmd-palette\" class=\"fixed inset-0 z-50 bg-[#282828] bg-opacity-50 items-start justify-center pt-[10vh] hidden\"><div class=\"bg-[#3c3836] rounded-lg shadow-lg w-full max-w-2xl overflow-hidden border border-[#504945]\"><div class=\"p-4 flex items-center\"><div id=\"breadcrumb\" class=\"text-[#928374] mr-2\"></div><input type=\"text\" id=\"cmd-input\" class=\"flex-grow bg-[#3c3836] text-[#ebdbb2] rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#b8bb26] placeholder-[#928374]\" placeholder=\"type something...\"></div><div id=\"cmd-list\" class=\"max-h-[50vh] overflow-y-auto\"><!-- cmd items will be inserted here automatically --></div><div class=\"px-4 py-2 bg-[#3c3836] text-[#928374] text-sm flex justify-center items-center space-x-4 border-t border-[#504945]\"><span><kbd class=\"px-2 py-1 bg-[#504945] text-[#ebdbb2] rounded\">↑</kbd> <kbd class=\"px-2 py-1 bg-[#504945] text-[#ebdbb2] rounded\">↓</kbd> <span class=\"ml-1\">to navigate</span></span> <span><kbd class=\"px-2 py-1 bg-[#504945] text-[#ebdbb2] rounded\">↵</kbd> <span class=\"ml-1\">to confirm</span></span></div></div></div><script>\n\tconst cmdPalette = document.getElementById(\"cmd-palette\");\n\tconst cmdInput = document.getElementById(\"cmd-input\");\n\tconst cmdList = document.getElementById(\"cmd-list\");\n\tconst breadcrumb = document.getElementById(\"breadcrumb\");\n\n\tconst mainCmds = [\n\t\t{\n\t\t\tname: \"home\",\n\t\t\tshortcut: \"h\",\n\t\t\tlogo: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-house\"><path d=\"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8\"/><path d=\"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/></svg>`,\n\t\t\taction: () => {window.location.href = \"/\"},\n\t\t},\n\t\t{\n\t\t\tname: \"blog\",\n\t\t\tshortcut: \"b\",\n\t\t\tlogo: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-notebook-pen\"><path d=\"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4\"/><path d=\"M2 6h4\"/><path d=\"M2 10h4\"/><path d=\"M2 14h4\"/><path d=\"M2 18h4\"/><path d=\"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z\"/></svg>`,\n\t\t\taction: () => {showBlogPosts()},\n\t\t},\n\t\t{\n\t\t\tname: \"x/twtr\",\n\t\t\tshortcut: \"t\",\n\t\t\tlogo: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-twitter\"><path d=\"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z\"/></svg>`,\n\t\t\taction: () => {window.open(\"https://twitter.com/seatedro\")},\n\t\t},\n\t\t{\n\t\t\tname: \"github\",\n\t\t\tshortcut: \"g\",\n\t\t\tlogo: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-github\"><path d=\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"/><path d=\"M9 18c-4.51 2-5-2-7-2\"/></svg>`,\n\t\t\taction: () => {window.open(\"https://github.com/seatedro\")},\n\t\t}\n\t];\n\n\tlet currentCmds = mainCmds;\n\tlet selectedIndex = -1;\n\tlet filteredCmds = currentCmds;\n\tlet isInBlog = false;\n\tlet defaultBlogPosts = [];\n\n\n\tfunction toggleCmdPalette() {\n\t\tcmdPalette.classList.toggle(\"hidden\");\n\t\tcmdPalette.classList.toggle(\"flex\");\n\t\tif (!cmdPalette.classList.contains(\"hidden\")) {\n\t\t\tresetToMainView();\n\t\t}\n\t}\n\n\tfunction resetToMainView() {\n\t\tcmdInput.focus();\n\t\tselectedIndex = -1;\n\t\tcurrentCmds = mainCmds;\n\t\tfilteredCmds = currentCmds;\n\t\tisInBlog = false;\n\t\trenderCmdList(filteredCmds);\n\t\tupdateBreadcrumb();\n\t\tcmdInput.value = \"\";\n\t\tcmdInput.placeholder = \"type something...\";\n\t}\n\n\tfunction renderCmdList(filteredCmds) {\n\t\tcmdList.innerHTML = filteredCmds.map((cmd, index) => `\n\t\t\t<div class=\"px-4 py-4 hover:bg-[#282828] cursor-pointer flex items-center\" data-index=\"${index}\">\n\t\t\t\t${cmd.logo ? `<span >${cmd.logo}</span>` : \"\"}\n\t\t\t\t<span class=\"ml-4\">${cmd.name}</span>\n\t\t\t</div>\n\t\t`).join(\"\");\n\t}\n\n\tfunction updateSelection() {\n\t\tconst items = cmdList.querySelectorAll(\"div\");\n\t\titems.forEach((item, index) => {\n\t\t\tif (index === selectedIndex) {\n\t\t\t\titem.classList.add(\"bg-[#282828]\");\n\t\t\t\titem.scrollIntoView({block: \"nearest\"});\n\t\t\t} else {\n\t\t\t\titem.classList.remove(\"bg-[#282828]\");\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction moveSelection(direction) {\n\t\tconst items = cmdList.querySelectorAll(\"div\");\n\t\tif (items.length === 0) return;\n\t\tselectedIndex = (selectedIndex + direction + items.length) % items.length;\n\t\tupdateSelection();\n\t}\n\n\tfunction executeCmd() {\n\t\tif (selectedIndex >= 0 && selectedIndex < filteredCmds.length) {\n\t\t\tconst cmd = filteredCmds[selectedIndex];\n\t\t\tcmd.action();\n\t\t}\n\t}\n\n\tasync function showBlogPosts() {\n\t\ttry {\n\n\t\t\tconst res = await fetch(\"/api/blog-posts?limit=3\");\n\t\t\tif (!res.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch blog posts\");\n\t\t\t}\n\t\t\tblogPosts = await res.json();\n\t\t\tcurrentCmds = blogPosts.map(post => ({\n\t\t\t\tname: post.Title,\n\t\t\t\tshortcut: \"\",\n\t\t\t\taction: () => {window.location.href = `/blog/${post.Slug}`}\n\t\t\t}));\n\t\t\tfilteredCmds = currentCmds.slice(0, 3);\n\t\t\tdefaultBlogPosts = filteredCmds;\n\t\t\tisInBlog = true;\n\t\t\trenderCmdList(filteredCmds);\n\t\t\tselectedIndex = -1;\n\t\t\tcmdInput.value = \"\";\n\t\t\tcmdInput.placeholder = \"search blog posts...\";\n\t\t\tupdateBreadcrumb();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error fetching blog posts:\", error);\n\t\t}\n\t}\n\n\tfunction updateBreadcrumb() {\n\t\tif (isInBlog) {\n\t\t\tbreadcrumb.textContent = \"blog /\";\n\t\t\tbreadcrumb.classList.remove(\"hidden\");\n\t\t} else {\n\t\t\tbreadcrumb.textContent = \"\";\n\t\t\tbreadcrumb.classList.add(\"hidden\");\n\t\t}\n\t}\n\n\tfunction goBack() {\n\t\tif (isInBlog) {\n\t\t\tresetToMainView();\n\t\t} else {\n\t\t\ttoggleCmdPalette();\n\t\t}\n\t}\n\n\tasync function searchBlogPosts(query) {\n\t\ttry {\n\t\t\tconst res = await fetch(`/api/blog-posts/search?q=${encodeURIComponent(query)}&limit=3`);\n\t\t\tif (!res.ok) {\n\t\t\t\tthrow new Error(\"Failed to fetch blog posts\");\n\t\t\t}\n\t\t\tconst blogPosts = await res.json();\n\t\t\treturn blogPosts.map(post => ({\n\t\t\t\tname: post.Title,\n\t\t\t\tshortcut: \"\",\n\t\t\t\taction: () => {window.location.href = `/blog/${post.Slug}`}\n\t\t\t}));\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error fetching blog posts:\", error);\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tcmdInput.addEventListener(\"input\", async function (e) {\n\t\tconst inputValue = e.target.value.toLowerCase();\n\t\tif (isInBlog) {\n\t\t\tif (inputValue === \"\") {\n\t\t\t\tfilteredCmds = defaultBlogPosts;\n\t\t\t} else {\n\t\t\t\tfilteredCmds = await searchBlogPosts(inputValue);\n\t\t\t}\n\t\t} else {\n\t\t\tfilteredCmds = currentCmds.filter(cmd => cmd.name.toLowerCase().includes(inputValue));\n\t\t}\n\t\trenderCmdList(filteredCmds);\n\t\tselectedIndex = -1;\n\t});\n\n\tdocument.addEventListener(\"keydown\", function (e) {\n\t\tif (e.key === \"k\" && (e.ctrlKey || e.metaKey)) {\n\t\t\te.preventDefault();\n\t\t\ttoggleCmdPalette();\n\t\t}\n\t\tif (!cmdPalette.classList.contains(\"hidden\")) {\n\t\t\tswitch (e.key) {\n\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tmoveSelection(1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tmoveSelection(-1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"n\":\n\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tmoveSelection(1);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"p\":\n\t\t\t\t\tif (e.ctrlKey) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tmoveSelection(-1);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Enter\":\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\texecuteCmd();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Escape\":\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tgoBack();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t}\n\t});\n\n\tcmdPalette.addEventListener(\"click\", function (e) {\n\t\tif (e.target === cmdPalette) {\n\t\t\ttoggleCmdPalette();\n\t\t}\n\t});\n\n\tcmdList.addEventListener(\"click\", function (e) {\n\t\tconst clickedItem = e.target.closest(\"div[data-index]\");\n\t\tif (clickedItem) {\n\t\t\tselectedIndex = parseInt(clickedItem.dataset.index);\n\t\t\texecuteCmd();\n\t\t}\n\t});\n\n\trenderCmdList(filteredCmds);\n</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}
